{
  "id": "square_schedule_publish",
  "version": "1.0.0",
  "title": "Square Schedule Publish",
  "owner": "platform-integrations",
  "status": "draft",
  "transport": [
    "api",
    "script"
  ],
  "contracts": [
    {
      "name": "publish_schedule_to_square",
      "kind": "http_endpoint",
      "operation": "publish approved schedule to Square shifts service",
      "method": "POST",
      "path": "/api/v1/tenants/{tenantId}/schedules/{scheduleId}/square/publish"
    },
    {
      "name": "publish_schedule_to_square_mcp_script",
      "kind": "script_entrypoint",
      "operation": "create/publish scheduled shifts via Square MCP with preflight gates",
      "script": "apps/ice-cream-ops/scripts/publish_schedule_to_square_mcp.py"
    }
  ],
  "consumers": [
    {
      "surface": "approvals_workbench",
      "purpose": "final handoff after next-week and request approvals"
    },
    {
      "surface": "operations_runbook",
      "purpose": "controlled publish workflow with dry-run and audit report"
    }
  ],
  "source_refs": [
    "docs/planning/recovered/joyus-fast-casual-feature-tracker-2026-02-21.md",
    "apps/ice-cream-ops/scripts/publish_schedule_to_square_mcp.py"
  ],
  "adr_refs": [
    "docs/adr/ADR-0001-ui-governance-baseline.md"
  ],
  "validation": {
    "basis": "approved_product_decision",
    "state": "validated_useful",
    "notes": "Wave 1 review passed. High usefulness as the only governed publish path to Square with comprehensive preflight validation. Follow-ups: add structured audit logging, harden name resolution for multi-store rosters, add rollback capability.",
    "reviewed_on": "2026-02-24",
    "reviewer": "AlexUA"
  }
}
